(()=>{var e={};e.id=322,e.ids=[322],e.modules={5890:e=>{"use strict";e.exports=require("better-sqlite3")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},8616:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>p,tree:()=>d}),t(489),t(9454),t(5866);var a=t(3191),r=t(8716),n=t(7922),l=t.n(n),i=t(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let d=["",{children:["tools",{children:["config",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,489)),"/Users/paulsomers/Dev/payfriends-mvp/admin/src/app/tools/config/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9454)),"/Users/paulsomers/Dev/payfriends-mvp/admin/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/paulsomers/Dev/payfriends-mvp/admin/src/app/tools/config/page.tsx"],x="/tools/config/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/tools/config/page",pathname:"/tools/config",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7864:(e,s,t)=>{Promise.resolve().then(t.bind(t,2945))},2945:(e,s,t)=>{"use strict";t.d(s,{ConfigForm:()=>l});var a=t(326),r=t(7577),n=t(5047);function l(){let e=(0,n.useRouter)(),[s,t]=(0,r.useState)(""),[l,i]=(0,r.useState)(""),[o,d]=(0,r.useState)("string"),[c,x]=(0,r.useState)(""),[m,p]=(0,r.useState)(!1),[u,h]=(0,r.useState)(null),[g,j]=(0,r.useState)(!1),b=async a=>{if(a.preventDefault(),s.trim()&&l.trim()){p(!0),h(null),j(!1);try{let a=await fetch("/api/config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:s,value:l,type:o,description:c})});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to save config")}j(!0),t(""),i(""),x(""),e.refresh(),setTimeout(()=>j(!1),3e3)}catch(e){h(e.message)}finally{p(!1)}}};return(0,a.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Key"}),a.jsx("input",{type:"text",value:s,onChange:e=>t(e.target.value),placeholder:"e.g., feature.grouptabs.enabled",className:"admin-input"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Type"}),(0,a.jsxs)("select",{value:o,onChange:e=>d(e.target.value),className:"admin-input",children:[a.jsx("option",{value:"boolean",children:"Boolean (Feature Flag)"}),a.jsx("option",{value:"string",children:"String (Wizard Copy)"}),a.jsx("option",{value:"json",children:"JSON"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Value"}),"boolean"===o?(0,a.jsxs)("select",{value:l,onChange:e=>i(e.target.value),className:"admin-input",children:[a.jsx("option",{value:"",children:"Select..."}),a.jsx("option",{value:"true",children:"true (enabled)"}),a.jsx("option",{value:"false",children:"false (disabled)"})]}):a.jsx("input",{type:"text",value:l,onChange:e=>i(e.target.value),placeholder:"Value",className:"admin-input"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Description (optional)"}),a.jsx("input",{type:"text",value:c,onChange:e=>x(e.target.value),placeholder:"What does this config control?",className:"admin-input"})]}),u&&a.jsx("div",{className:"text-red-400 text-sm",children:u}),g&&a.jsx("div",{className:"text-green-400 text-sm",children:"Configuration saved successfully!"}),a.jsx("button",{type:"submit",disabled:m||!s.trim()||!l.trim(),className:"admin-btn admin-btn-primary",children:m?"Saving...":"Save Configuration"})]})}},489:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o,dynamic:()=>i});var a=t(9510),r=t(5748),n=t(644);let l=(0,t(8570).createProxy)(String.raw`/Users/paulsomers/Dev/payfriends-mvp/admin/src/app/tools/config/ConfigForm.tsx#ConfigForm`),i="force-dynamic";async function o(){let e=(0,r.m2)();return(0,a.jsxs)("div",{className:"max-w-4xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Remote Config"}),a.jsx("span",{className:"text-sm text-gray-500",children:"Feature Flags + Wizard Copy"})]}),(0,a.jsxs)("div",{className:"admin-card p-4 mb-6",children:[a.jsx("h2",{className:"text-sm font-semibold text-gray-400 uppercase mb-3",children:"Add / Update Config"}),a.jsx(l,{})]}),(0,a.jsxs)("div",{className:"admin-card p-4",children:[a.jsx("h2",{className:"text-sm font-semibold text-gray-400 uppercase mb-3",children:"Current Configuration"}),0===e.length?a.jsx("p",{className:"text-sm text-gray-500",children:"No configuration values set."}):(0,a.jsxs)("table",{className:"admin-table",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{children:[a.jsx("th",{children:"Key"}),a.jsx("th",{children:"Value"}),a.jsx("th",{children:"Type"}),a.jsx("th",{children:"Description"}),a.jsx("th",{children:"Updated"})]})}),a.jsx("tbody",{children:e.map(e=>(0,a.jsxs)("tr",{children:[a.jsx("td",{className:"font-mono text-sm",children:e.key}),a.jsx("td",{children:"boolean"===e.type?a.jsx("span",{className:`badge ${"true"===e.value?"badge-active":"badge-disabled"}`,children:e.value}):(0,a.jsxs)("span",{className:"text-sm",children:[e.value.substring(0,50),e.value.length>50?"...":""]})}),a.jsx("td",{className:"text-xs text-gray-400",children:e.type}),a.jsx("td",{className:"text-sm text-gray-400",children:e.description}),a.jsx("td",{className:"text-xs text-gray-500",children:(0,n.o0)(e.updated_at)})]},e.key))})]})]}),(0,a.jsxs)("div",{className:"mt-6 admin-card p-4",children:[a.jsx("h2",{className:"text-sm font-semibold text-gray-400 uppercase mb-3",children:"Usage Notes"}),(0,a.jsxs)("div",{className:"text-sm text-gray-400 space-y-2",children:[(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Feature Flags (boolean):"})," Enable/disable features across the app."]}),(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Wizard Copy (string):"})," Override labels and helper text in the loan wizard."]}),a.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Note: Wizard logic remains hardcoded. Only copy/labels are configurable."})]}),a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mt-4 mb-2",children:"Example Keys"}),(0,a.jsxs)("ul",{className:"text-xs text-gray-500 space-y-1 font-mono",children:[a.jsx("li",{children:"feature.grouptabs.enabled - boolean"}),a.jsx("li",{children:"feature.installments.enabled - boolean"}),a.jsx("li",{children:"wizard.step1.title - string"}),a.jsx("li",{children:"wizard.step1.helper - string"})]})]})]})}}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[276,898,86,485],()=>t(8616));module.exports=a})();