(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[322],{3460:function(e,t,a){Promise.resolve().then(a.bind(a,1166))},9376:function(e,t,a){"use strict";var s=a(5475);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},1166:function(e,t,a){"use strict";a.d(t,{ConfigForm:function(){return i}});var s=a(7437),n=a(2265),l=a(9376);function i(){let e=(0,l.useRouter)(),[t,a]=(0,n.useState)(""),[i,r]=(0,n.useState)(""),[o,u]=(0,n.useState)("string"),[c,d]=(0,n.useState)(""),[h,m]=(0,n.useState)(!1),[x,p]=(0,n.useState)(null),[g,v]=(0,n.useState)(!1),f=async s=>{if(s.preventDefault(),t.trim()&&i.trim()){m(!0),p(null),v(!1);try{let s=await fetch("/api/config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:t,value:i,type:o,description:c})});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to save config")}v(!0),a(""),r(""),d(""),e.refresh(),setTimeout(()=>v(!1),3e3)}catch(e){p(e.message)}finally{m(!1)}}};return(0,s.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Key"}),(0,s.jsx)("input",{type:"text",value:t,onChange:e=>a(e.target.value),placeholder:"e.g., feature.grouptabs.enabled",className:"admin-input"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Type"}),(0,s.jsxs)("select",{value:o,onChange:e=>u(e.target.value),className:"admin-input",children:[(0,s.jsx)("option",{value:"boolean",children:"Boolean (Feature Flag)"}),(0,s.jsx)("option",{value:"string",children:"String (Wizard Copy)"}),(0,s.jsx)("option",{value:"json",children:"JSON"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Value"}),"boolean"===o?(0,s.jsxs)("select",{value:i,onChange:e=>r(e.target.value),className:"admin-input",children:[(0,s.jsx)("option",{value:"",children:"Select..."}),(0,s.jsx)("option",{value:"true",children:"true (enabled)"}),(0,s.jsx)("option",{value:"false",children:"false (disabled)"})]}):(0,s.jsx)("input",{type:"text",value:i,onChange:e=>r(e.target.value),placeholder:"Value",className:"admin-input"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Description (optional)"}),(0,s.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),placeholder:"What does this config control?",className:"admin-input"})]}),x&&(0,s.jsx)("div",{className:"text-red-400 text-sm",children:x}),g&&(0,s.jsx)("div",{className:"text-green-400 text-sm",children:"Configuration saved successfully!"}),(0,s.jsx)("button",{type:"submit",disabled:h||!t.trim()||!i.trim(),className:"admin-btn admin-btn-primary",children:h?"Saving...":"Save Configuration"})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=3460)}),_N_E=e.O()}]);