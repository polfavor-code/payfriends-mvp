(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[650],{845:function(e,t,s){Promise.resolve().then(s.bind(s,3615))},7648:function(e,t,s){"use strict";s.d(t,{default:function(){return a.a}});var n=s(2972),a=s.n(n)},9376:function(e,t,s){"use strict";var n=s(5475);s.o(n,"useParams")&&s.d(t,{useParams:function(){return n.useParams}}),s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}}),s.o(n,"useSearchParams")&&s.d(t,{useSearchParams:function(){return n.useSearchParams}})},3615:function(e,t,s){"use strict";s.d(t,{default:function(){return o}});var n=s(7437),a=s(2265),r=s(9376),i=s(7648),c=s(2834),l=s(7254);function o(){let e=(0,r.useSearchParams)().get("token"),[t,s]=(0,a.useState)(null),[o,d]=(0,a.useState)([]),[m,u]=(0,a.useState)(!0),[x,f]=(0,a.useState)("");(0,a.useEffect)(()=>{e?h():(f("No token provided"),u(!1))},[e]);let h=async()=>{try{let t=await fetch("/api/grouptabs/by-token?token=".concat(e)),n=await t.json();if(!t.ok){f(n.error||"Invalid or expired link"),u(!1);return}s(n.tab),d(n.participants||[]),u(!1)}catch(e){f("Failed to load tab"),u(!1)}};if(m)return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"loading-spinner mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-pf-muted",children:"Loading..."})]})});if(x||!t)return(0,n.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,n.jsx)("main",{className:"flex-1 flex items-center justify-center p-4",children:(0,n.jsxs)("div",{className:"card p-8 max-w-md text-center",children:[(0,n.jsx)("div",{className:"text-5xl mb-4",children:"❌"}),(0,n.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Invalid Link"}),(0,n.jsx)("p",{className:"text-pf-muted mb-6",children:x||"This link is invalid or has expired."}),(0,n.jsx)(i.default,{href:"/",className:"btn-primary",children:"Go to PayFriends"})]})}),(0,n.jsx)(c.Footer,{})]});let p=t.totalAmountCents&&t.peopleCount?Math.round(t.totalAmountCents/t.peopleCount):null;return(0,n.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,n.jsxs)("main",{className:"flex-1 container-pf max-w-2xl",children:[(0,n.jsx)("header",{className:"text-center mb-8",children:(0,n.jsx)(i.default,{href:"/",className:"text-2xl font-bold text-pf-accent no-underline",children:"PayFriends"})}),(0,n.jsxs)("div",{className:"card p-8",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-2",children:t.name}),t.description&&(0,n.jsx)("p",{className:"text-pf-muted mb-6",children:t.description}),(0,n.jsx)("div",{className:"bg-pf-card/50 rounded-pf p-4 mb-6",children:(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-pf-muted text-sm",children:"Total"}),(0,n.jsx)("p",{className:"text-xl font-bold",children:t.totalAmountCents?(0,l.tV)(t.totalAmountCents):"—"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-pf-muted text-sm",children:"Per Person"}),(0,n.jsx)("p",{className:"text-xl font-bold",children:p?(0,l.tV)(p):"—"})]})]})}),(0,n.jsxs)("h2",{className:"font-semibold mb-4",children:["Participants (",o.length,"/",t.peopleCount,")"]}),0===o.length?(0,n.jsx)("p",{className:"text-pf-muted text-center py-4",children:"No participants yet."}):(0,n.jsx)("div",{className:"space-y-3 mb-6",children:o.map(e=>(0,n.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-pf-card-border last:border-0",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-8 h-8 rounded-full bg-pf-accent/20 flex items-center justify-center text-sm font-medium",children:(e.guestName||"?")[0].toUpperCase()}),(0,n.jsxs)("span",{className:"font-medium",children:[e.guestName||"Guest",e.isOrganizer&&(0,n.jsx)("span",{className:"text-xs text-pf-accent ml-2",children:"(Organizer)"})]})]}),(0,n.jsxs)("div",{className:"text-right",children:[(0,n.jsxs)("p",{className:"font-medium",children:[(0,l.tV)(e.amountPaidCents)," / ",(0,l.tV)(e.amountOwedCents||p||0)]}),(0,n.jsx)("p",{className:"text-xs ".concat(e.amountPaidCents>=(e.amountOwedCents||p||0)?"text-green-400":"text-pf-muted"),children:e.amountPaidCents>=(e.amountOwedCents||p||0)?"✓ Paid":"Pending"})]})]},e.id))}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)("button",{className:"btn-primary w-full",children:"Join & Mark as Paid"}),(0,n.jsx)("p",{className:"text-xs text-pf-muted text-center",children:"Create an account or login to track your payment"})]})]}),(0,n.jsxs)("p",{className:"text-center text-pf-muted text-sm mt-8",children:["Powered by"," ",(0,n.jsx)(i.default,{href:"/",className:"text-pf-accent font-medium",children:"PayFriends"})]})]}),(0,n.jsx)(c.Footer,{})]})}},2834:function(e,t,s){"use strict";s.d(t,{Footer:function(){return r}});var n=s(7437),a=s(7648);function r(){let e=new Date().getFullYear();return(0,n.jsx)("footer",{className:"mt-auto py-6 text-center text-pf-muted text-sm border-t border-pf-card-border",children:(0,n.jsxs)("div",{className:"container-pf",children:[(0,n.jsxs)("div",{className:"flex flex-wrap justify-center gap-x-6 gap-y-2 mb-4",children:[(0,n.jsx)(a.default,{href:"/features",className:"hover:text-pf-text transition-colors",children:"Features"}),(0,n.jsx)(a.default,{href:"/faq",className:"hover:text-pf-text transition-colors",children:"FAQ"}),(0,n.jsx)(a.default,{href:"/legal/terms",className:"hover:text-pf-text transition-colors",children:"Terms"}),(0,n.jsx)(a.default,{href:"/legal/privacy",className:"hover:text-pf-text transition-colors",children:"Privacy"}),(0,n.jsx)(a.default,{href:"/legal/about",className:"hover:text-pf-text transition-colors",children:"About"})]}),(0,n.jsxs)("p",{className:"text-pf-muted/70",children:["\xa9 ",e," PayFriends. All rights reserved."]})]})})}},7254:function(e,t,s){"use strict";s.d(t,{Sn:function(){return r},p6:function(){return i},tV:function(){return a}});let n="nl-NL";function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;return new Intl.NumberFormat(t,{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(Math.round((null!=e?e:0)/100))}function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;return new Intl.NumberFormat(t,{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}).format((null!=e?e:0)/100)}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,s="string"==typeof e?new Date(e):e;return new Intl.DateTimeFormat(t,{year:"numeric",month:"short",day:"numeric"}).format(s)}}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=845)}),_N_E=e.O()}]);