(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[68],{7040:function(e,t,n){Promise.resolve().then(n.bind(n,4684))},7648:function(e,t,n){"use strict";n.d(t,{default:function(){return r.a}});var s=n(2972),r=n.n(s)},4684:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var s=n(7437),r=n(2265),a=n(7648),i=n(2967),l=n(7254);function c(){let[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0);(0,r.useEffect)(()=>{l()},[]);let l=async()=>{try{let e=await fetch("/api/friends"),n=await e.json();t(n.friends||[])}catch(e){console.error("Error fetching friends:",e)}finally{i(!1)}};return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"flex items-center justify-between gap-4 mb-6",children:(0,s.jsxs)("div",{children:[(0,s.jsx)(a.default,{href:"/dashboard",className:"text-sm text-pf-accent mb-2 block",children:"â† Back to Dashboard"}),(0,s.jsx)("h1",{className:"text-2xl font-semibold",children:"Friends"})]})}),n?(0,s.jsxs)("div",{className:"card p-8 text-center",children:[(0,s.jsx)("div",{className:"loading-spinner mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-pf-muted",children:"Loading friends..."})]}):0===e.length?(0,s.jsxs)("div",{className:"card p-12 text-center",children:[(0,s.jsx)("div",{className:"text-5xl mb-4",children:"\uD83D\uDC65"}),(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"No friends yet"}),(0,s.jsx)("p",{className:"text-pf-muted mb-6",children:"Friends are added automatically when you create loan agreements with them."}),(0,s.jsx)(a.default,{href:"/calculate",className:"btn-primary",children:"Create First Loan"})]}):(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map((e,t)=>(0,s.jsx)(d,{friend:e},e.email||t))})]})}function d(e){let{friend:t}=e,n=t.activeCount+t.pendingCount+t.settledCount;return(0,s.jsxs)(a.default,{href:t.publicId?"/friends/".concat(t.publicId):"#",className:"card p-4 hover:border-pf-accent/30 transition-colors block no-underline",children:[(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)(i.Y,{name:t.name,size:"lg"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h3",{className:"font-semibold text-pf-text truncate",children:t.name}),(0,s.jsx)("p",{className:"text-sm text-pf-muted truncate",children:t.email})]})]}),(0,s.jsxs)("div",{className:"mt-4 pt-4 border-t border-pf-card-border",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,s.jsx)("span",{className:"text-pf-muted",children:"Agreements"}),(0,s.jsx)("span",{className:"font-medium",children:n})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,s.jsx)("span",{className:"text-pf-muted",children:"You lent"}),(0,s.jsx)("span",{className:"font-medium text-green-400",children:(0,l.tV)(t.totalLoans)})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-pf-muted",children:"You borrowed"}),(0,s.jsx)("span",{className:"font-medium text-red-400",children:(0,l.tV)(t.totalBorrowed)})]})]}),(0,s.jsxs)("div",{className:"mt-4 flex gap-2 flex-wrap",children:[t.activeCount>0&&(0,s.jsxs)("span",{className:"badge badge-active",children:[t.activeCount," active"]}),t.pendingCount>0&&(0,s.jsxs)("span",{className:"badge badge-pending",children:[t.pendingCount," pending"]}),t.settledCount>0&&(0,s.jsxs)("span",{className:"badge badge-settled",children:[t.settledCount," settled"]})]})]})}},2967:function(e,t,n){"use strict";n.d(t,{Y:function(){return i}});var s=n(7437),r=n(3448);let a={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-14 h-14 text-xl"};function i(e){let{name:t,profilePictureUrl:n,userId:i,size:l="md",className:c}=e,d=(0,r.Qm)(t),o=function(e){if(!e)return"bg-indigo-500";let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);let n=["bg-indigo-500","bg-violet-500","bg-pink-500","bg-amber-500","bg-emerald-500","bg-blue-500","bg-teal-500"];return n[Math.abs(t)%n.length]}(t);return n&&i?(0,s.jsx)("div",{className:(0,r.cn)("rounded-full overflow-hidden flex-shrink-0",a[l],c),children:(0,s.jsx)("img",{src:"/api/profile/picture/".concat(i),alt:t||"User",className:"w-full h-full object-cover"})}):(0,s.jsx)("div",{className:(0,r.cn)("rounded-full flex items-center justify-center text-white font-semibold flex-shrink-0",a[l],o,c),children:d})}},7254:function(e,t,n){"use strict";n.d(t,{Sn:function(){return a},p6:function(){return i},tV:function(){return r}});let s="nl-NL";function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;return new Intl.NumberFormat(t,{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(Math.round((null!=e?e:0)/100))}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;return new Intl.NumberFormat(t,{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}).format((null!=e?e:0)/100)}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n="string"==typeof e?new Date(e):e;return new Intl.DateTimeFormat(t,{year:"numeric",month:"short",day:"numeric"}).format(n)}},3448:function(e,t,n){"use strict";n.d(t,{Qm:function(){return i},cn:function(){return a}});var s=n(1994),r=n(3335);function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.m6)((0,s.W)(t))}function i(e){return e?e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"?"}}},function(e){e.O(0,[972,137,971,117,744],function(){return e(e.s=7040)}),_N_E=e.O()}]);