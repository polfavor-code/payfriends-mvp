(()=>{var e={};e.id=9250,e.ids=[9250],e.modules={7096:e=>{"use strict";e.exports=require("bcrypt")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4770:e=>{"use strict";e.exports=require("crypto")},5959:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>d.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>l}),r(9898),r(5737),r(5866),r(2029);var n=r(3191),s=r(8716),a=r(7922),d=r.n(a),i=r(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let l=["",{children:["(admin)",{children:["admin",{children:["loans",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9898)),"/Users/paulsomers/Dev/payfriends-mvp/src/app/(admin)/admin/loans/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,5737)),"/Users/paulsomers/Dev/payfriends-mvp/src/app/(admin)/admin/layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,2029)),"/Users/paulsomers/Dev/payfriends-mvp/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/paulsomers/Dev/payfriends-mvp/src/app/(admin)/admin/loans/page.tsx"],m="/(admin)/admin/loans/page",u={require:r,loadChunk:()=>Promise.resolve()},x=new n.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(admin)/admin/loans/page",pathname:"/admin/loans",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},692:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,9404,23)),Promise.resolve().then(r.bind(r,8328))},8328:(e,t,r)=>{"use strict";r.d(t,{StatusBadge:()=>d});var n=r(326),s=r(1223);let a={pending:{badge:"bg-yellow-900/50 text-yellow-300",dot:"bg-yellow-400",text:"Pending"},active:{badge:"bg-green-900/50 text-green-300",dot:"bg-green-400",text:"Active"},settled:{badge:"bg-blue-900/50 text-blue-300",dot:"bg-blue-400",text:"Settled"},cancelled:{badge:"bg-red-900/50 text-red-300",dot:"bg-red-400",text:"Cancelled"},overdue:{badge:"bg-red-900/50 text-red-300",dot:"bg-red-500",text:"Overdue"},open:{badge:"bg-green-900/50 text-green-300",dot:"bg-green-400",text:"Open"},closed:{badge:"bg-gray-900/50 text-gray-300",dot:"bg-gray-400",text:"Closed"}};function d({status:e,variant:t="badge",className:r}){let d=a[e.toLowerCase()]||a.pending;return"dot"===t?n.jsx("div",{className:(0,s.cn)("flex items-center",r),title:d.text,children:n.jsx("span",{className:(0,s.cn)("w-2.5 h-2.5 rounded-full",d.dot)})}):n.jsx("span",{className:(0,s.cn)("badge",d.badge,r),children:d.text})}},9898:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(9510),s=r(7371),a=r(8088),d=r(5971);let i=(0,r(8570).createProxy)(String.raw`/Users/paulsomers/Dev/payfriends-mvp/src/components/StatusBadge.tsx#StatusBadge`);async function o(){try{let e=(0,a.tG)(),{data:t,error:r}=await e.from("agreements").select("id, lender_name, borrower_email, amount_cents, status, created_at, due_date").order("created_at",{ascending:!1}).limit(100);if(r)throw r;return t||[]}catch(e){return console.error("Error fetching agreements:",e),[]}}async function l(){let e=await o();return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Loans"}),(0,n.jsxs)("span",{className:"text-sm text-gray-400",children:[e.length," loans"]})]}),(0,n.jsxs)("div",{className:"admin-card overflow-hidden",children:[(0,n.jsxs)("table",{className:"admin-table",children:[n.jsx("thead",{children:(0,n.jsxs)("tr",{children:[n.jsx("th",{children:"ID"}),n.jsx("th",{children:"Lender"}),n.jsx("th",{children:"Borrower"}),n.jsx("th",{children:"Amount"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Due Date"}),n.jsx("th",{children:"Created"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:e.map(e=>(0,n.jsxs)("tr",{children:[n.jsx("td",{className:"font-mono text-xs",children:e.id}),n.jsx("td",{children:e.lender_name}),n.jsx("td",{children:e.borrower_email}),n.jsx("td",{className:"font-medium",children:(0,d.tV)(e.amount_cents)}),n.jsx("td",{children:n.jsx(i,{status:e.status})}),n.jsx("td",{className:"text-gray-400",children:e.due_date?(0,d.p6)(e.due_date):"â€”"}),n.jsx("td",{className:"text-gray-400",children:(0,d.p6)(e.created_at)}),n.jsx("td",{children:n.jsx(s.default,{href:`/admin/loans/${e.id}`,className:"text-blue-400 hover:text-blue-300 text-sm no-underline",children:"View"})})]},e.id))})]}),0===e.length&&n.jsx("div",{className:"text-center py-8 text-gray-400",children:"No loans found"})]})]})}},5971:(e,t,r)=>{"use strict";r.d(t,{p6:()=>a,tV:()=>s});let n="nl-NL";function s(e,t=n){return new Intl.NumberFormat(t,{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(Math.round((e??0)/100))}function a(e,t=n){let r="string"==typeof e?new Date(e):e;return new Intl.DateTimeFormat(t,{year:"numeric",month:"short",day:"numeric"}).format(r)}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[9276,9702,4471,434,7377,2027,8358],()=>r(5959));module.exports=n})();